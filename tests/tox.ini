[tox]
envlist =
    pep8
    pylint

[testenv]
deps =
    -r{toxinidir}/requirements.txt
basepython = python3.6

[testenv:pep8]
skip_install = true
deps =
    flake8==3.5.0
commands =
    flake8

[testenv:pylint]
deps =
    pylint==1.8.4
commands =
    pylint --rcfile={toxinidir}/tox.ini zenko_e2e

[testenv:pip-compile]
skip_install = true
deps =
    pip==10.0.0
    pip-tools==2.0.1
commands =
    pip-compile --index --emit-trusted-host --annotate --upgrade --generate-hashes
passenv =
    CUSTOM_COMPILE_COMMAND

[flake8]
exclude = .tox,dist,*egg,build,venv

# Pylint configuration
[MESSAGES CONTROL]
# C0111: Missing %s docstring -- not required for tests
# W0621: Redefining name %r from outer scope -- required for pytest fixtures
disable=C0111,W0621
